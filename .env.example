# DocsMCP Environment Configuration
# Copy to .env and modify as needed

# ===================================================================
# REQUIRED SETTINGS
# ===================================================================

# API authentication token (CHANGE THIS!)
# Generate with: openssl rand -hex 32
API_TOKEN=changeme

# ===================================================================
# SERVER SETTINGS
# ===================================================================

# Server bind address
# 0.0.0.0 = all interfaces (needed for Docker)
# 127.0.0.1 = localhost only (more secure)
HOST=0.0.0.0

# Server port
PORT=8090

# Data directory for projects
# Docker default: /app/data
# Local default: ./data
DATA_DIR=./data

# ===================================================================
# SEARCH SETTINGS
# ===================================================================

# Enable vector search (requires extra dependencies)
# 0 = FTS only (default, lightweight)
# 1 = Enable vector search (needs sentence-transformers, faiss-cpu)
ENABLE_VECTOR_INDEX=0

# Maximum search results to return
SEARCH_RESULTS_LIMIT=10

# Embedding model for vector search (only if ENABLE_VECTOR_INDEX=1)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# ===================================================================
# SCRAPING SETTINGS
# ===================================================================

# Maximum pages to scrape per project
MAX_PAGES_PER_PROJECT=10000

# Delay between requests (seconds) - be respectful!
RATE_LIMIT_DELAY=1.0

# How to handle robots.txt
# strict = fully respect (may block pages)
# permissive = respect crawl-delay only (default)
# ignore = ignore robots.txt
RESPECT_ROBOTS_TXT=permissive

# HTTP User-Agent string
USER_AGENT=DocsMCP/1.0 (+https://github.com/laxmanisawesome/docsmcp)

# HTTP request timeout (seconds)
REQUEST_TIMEOUT=30

# Maximum concurrent scrapes
MAX_CONCURRENT_SCRAPES=3

# Default maximum crawl depth
MAX_DEPTH=5

# ===================================================================
# WEBHOOK SETTINGS (OPTIONAL)
# ===================================================================

# URL to POST scrape completion events
WEBHOOK_URL=

# Send webhook on successful scrape
WEBHOOK_ON_SUCCESS=true

# Send webhook on failed scrape
WEBHOOK_ON_ERROR=true

# ===================================================================
# LOGGING SETTINGS
# ===================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: text or json
LOG_FORMAT=text

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# ===================================================================
# SECURITY SETTINGS
# ===================================================================

# CORS allowed origins (comma-separated, or * for all)
ALLOWED_ORIGINS=*

# Require authentication for all requests
# Set to false for development only!
ENABLE_AUTH=true

# Rate limit: requests per window per IP/token
RATE_LIMIT_REQUESTS=100

# Rate limit window in seconds
RATE_LIMIT_WINDOW=60
